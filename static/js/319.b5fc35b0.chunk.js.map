{"version":3,"file":"static/js/319.b5fc35b0.chunk.js","mappings":"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","sources":["components/SearchBox/SearchBox.styled.js","components/SearchBox/SearchBox.js","components/Pagination/PaginationSearch.jsx","Pages/Movies.js","api-service.js"],"sourcesContent":["import styled from \"styled-components\";\n\n\nexport const Wrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n`;\n\nexport const Input = styled.input`\n  padding: 8px 32px 8px 8px;\n  width: 300px;\n  border-radius: 4px;\n  font: inherit;\n`;\nexport const Button = styled.button`\nwidth: 50px;\npadding: 5px;\nbackground-color: transparent;\nborder: none;\ncursor: pointer;\nposition: absolute;\nright: 1px;\n`\n","import { useEffect, useState } from 'react';\nimport { Wrapper, Input, Button } from './SearchBox.styled';\nimport { HiSearch } from 'react-icons/hi';\nexport const SearchBox = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState(\n    JSON.parse(localStorage.getItem('searchQuery')) || ''\n  );\n  useEffect(() => {\n    window.localStorage.setItem('searchQuery', JSON.stringify(searchQuery));\n  }, [searchQuery]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n\n  const handleInput = evt => {\n    setSearchQuery(evt.currentTarget.value.trim());\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Wrapper>\n        <Input\n          placeholder=\"Enter movie...\"\n          type=\"text\"\n          name=\"searchQuery\"\n          value={searchQuery}\n          onChange={handleInput}\n          required\n          autoFocus\n        />\n        <Button>\n          <HiSearch size=\"25\" />\n        </Button>\n      </Wrapper>\n    </form>\n  );\n};\n","import { PaginationItem } from '@mui/material';\nimport Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nexport const BasicPagination = ({ count, page, onChange, navLink, query }) => {\n  return (\n    <Stack spacing={3}>\n      <Pagination\n        sx={{ marginX: 'auto' }}\n        showFirstButton\n        showLastButton\n        count={count}\n        page={page}\n        onChange={onChange}\n        renderItem={item => (\n          <PaginationItem\n            component={navLink}\n            to={`/movies/?query=${query}&page=${item.page}`}\n            {...item}\n          />\n        )}\n      />\n    </Stack>\n  );\n};\n","import * as API from '../api-service';\nimport { useState, useEffect, useRef } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { Item, List, Image, Wrapper, MainWrapper } from './Home.styled';\nimport { useSearchParams } from 'react-router-dom';\nimport { SearchBox } from '../components/SearchBox/SearchBox';\nimport { Loader } from '../components/Loader/Loader';\nimport { toast } from 'react-toastify';\nimport defaultImg from '../components/image/defaultImg.png';\nimport { BasicPagination } from 'components/Pagination/PaginationSearch';\n\nconst Movies = props => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [page, setPage] = useState(\n    JSON.parse(localStorage.getItem('page')) || 1\n  );\n  const [pageQty, setPageQty] = useState(0);\n  const movieQuery = searchParams.get('query');\n  // const moviePage = searchParams.get('page');\n  const location = useLocation();\n  const ref = useRef(null);\n  useEffect(() => {\n    ref.current.scrollIntoView({ behavior: 'smooth' });\n  }, [page, movieQuery]);\n\n  useEffect(() => {\n    window.localStorage.setItem('page', JSON.stringify(page));\n  }, [page]);\n\n  useEffect(() => {\n    if (!movieQuery) {\n      return;\n    }\n\n    const fetchMovies = async (searchQuery, page) => {\n      try {\n        setIsLoading(true);\n        const movies = await API.fetchMovieToSearch(searchQuery, page);\n        if (movies.length === 0) {\n          toast(\"We don't found any films\");\n        }\n        setMovies(movies.results);\n        setPageQty(movies.total_pages);\n        if (movies.total_pages < page) {\n          setPage(1);\n        }\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n        setError(error.message);\n        setIsLoading(false);\n      }\n    };\n    fetchMovies(movieQuery, page);\n  }, [movieQuery, page]);\n\n  const handleSubmit = (query = '', page = 1) => {\n    if (!query) {\n      console.log('enter value');\n      return;\n    }\n    setSearchParams(`query=${query}&page=${page}`);\n    setMovies([]);\n  };\n\n  return (\n    <MainWrapper>\n      <SearchBox onSubmit={handleSubmit} />\n      {error && toast.error('Something wrong...Try again')}\n      {isLoading && <Loader />}\n      <Wrapper ref={ref}>\n        {movies && (\n          <List>\n            {movies.map(({ poster_path, title, id }) => (\n              <Item key={id}>\n                <NavLink to={`${id}`} state={{ from: location }}>\n                  {' '}\n                  <Image\n                    src={\n                      poster_path\n                        ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                        : defaultImg\n                    }\n                    alt={title}\n                  />{' '}\n                  <h3>{title}</h3>\n                </NavLink>\n              </Item>\n            ))}\n          </List>\n        )}\n      </Wrapper>\n      {pageQty > 0 && (\n        <BasicPagination\n          count={pageQty}\n          page={page}\n          onChange={(_, num) => setPage(num)}\n          navLink={NavLink}\n          query={movieQuery}\n        />\n      )}\n    </MainWrapper>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n// const API_KEY = '7653694c4941db1f3bfb7af19c86b9a8';\n// const BASE_URL = 'https://api.themoviedb.org/3';\n\n// export async function fetchPopularMovies(page) {\n//   const url = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&language=en-US&page=${page}`;\n//   const response = await axios(url);\n//   return response.data.results;\n// }\n\nconst API_KEY = '7653694c4941db1f3bfb7af19c86b9a8';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n  // page: 1,\n  \n};\n\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n\n// export const fetchPopularMovies = async (page) => {\n//   const { data } = await axios.get(`/trending/movie/week?page=${page}`);\n//   return data.results;\n// };\n\n\nexport const fetchPopularMovies = async (page) => {\n  const {data} = await axios.get(`/trending/movie/week?page=${page}`);\n  return data;\n};\nexport const fetchMovieToSearch = async (searchQuery, page) => {\n  const { data } = await axios.get(\n    `/search/movie?&query=${searchQuery}&page=${page}`\n  );\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`/movie/${id}?`);\n  // console.log(data);\n  return data;\n};\n\nexport const fetchCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?`);\n  // console.log(data.cast);\n  return data.cast;\n};\n\n// fetchCast(76600);\nexport const fetchReviews = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews?`);\n  // console.log(data.results);\n  return data.results;\n};\n\n// fetchReviews(76600);"],"names":["Wrapper","styled","Input","Button","SearchBox","onSubmit","useState","JSON","parse","localStorage","getItem","searchQuery","setSearchQuery","useEffect","window","setItem","stringify","e","preventDefault","placeholder","type","name","value","onChange","evt","currentTarget","trim","required","autoFocus","size","BasicPagination","count","page","navLink","query","Stack","spacing","Pagination","sx","marginX","showFirstButton","showLastButton","renderItem","item","PaginationItem","component","to","props","movies","setMovies","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","setPage","pageQty","setPageQty","movieQuery","get","location","useLocation","ref","useRef","current","scrollIntoView","behavior","fetchMovies","API","length","toast","results","total_pages","console","log","message","Loader","map","poster_path","title","id","state","from","src","defaultImg","alt","_","num","NavLink","axios","api_key","language","fetchPopularMovies","data","fetchMovieToSearch","fetchMovieById","fetchCast","cast","fetchReviews"],"sourceRoot":""}