"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{319:function(t,e,n){n.r(e),n.d(e,{default:function(){return L}});var r,a,u,o=n(5861),c=n(9439),s=n(4687),i=n.n(s),p=n(5872),f=n(2791),l=n(1087),d=n(7689),g=n(3372),h=n(168),m=n(7691),v=m.ZP.div(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n"]))),x=m.ZP.input(a||(a=(0,h.Z)(["\n  padding: 8px 32px 8px 8px;\n  width: 300px;\n  border-radius: 4px;\n  font: inherit;\n"]))),Z=m.ZP.button(u||(u=(0,h.Z)(["\nwidth: 50px;\npadding: 5px;\nbackground-color: transparent;\nborder: none;\ncursor: pointer;\nposition: absolute;\nright: 1px;\n"]))),w=n(8617),b=n(184),y=function(t){var e=t.onSubmit,n=(0,f.useState)(JSON.parse(localStorage.getItem("searchQuery"))||""),r=(0,c.Z)(n,2),a=r[0],u=r[1];(0,f.useEffect)((function(){window.localStorage.setItem("searchQuery",JSON.stringify(a))}),[a]);return(0,b.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(a),u("")},children:(0,b.jsxs)(v,{children:[(0,b.jsx)(x,{placeholder:"Enter movie...",type:"text",name:"searchQuery",value:a,onChange:function(t){u(t.currentTarget.value.trim())},required:!0,autoFocus:!0}),(0,b.jsx)(Z,{children:(0,b.jsx)(w.G4C,{size:"25"})})]})})},S=n(9989),k=n(5985),j=n(5378),_=n(1413),q=n(6563),C=n(1333),I=n(2977),E=function(t){var e=t.count,n=t.page,r=t.onChange,a=t.navLink,u=t.query;return(0,b.jsx)(I.Z,{spacing:3,children:(0,b.jsx)(C.Z,{sx:{marginX:"auto"},showFirstButton:!0,showLastButton:!0,count:e,page:n,onChange:r,renderItem:function(t){return(0,b.jsx)(q.Z,(0,_.Z)({component:a,to:"/movies/?query=".concat(u,"&page=").concat(t.page)},t))}})})},L=function(t){var e=(0,f.useState)([]),n=(0,c.Z)(e,2),r=n[0],a=n[1],u=(0,f.useState)(!1),s=(0,c.Z)(u,2),h=s[0],m=s[1],v=(0,f.useState)(null),x=(0,c.Z)(v,2),Z=x[0],w=x[1],_=(0,l.lr)(),q=(0,c.Z)(_,2),C=q[0],I=q[1],L=(0,f.useState)(JSON.parse(localStorage.getItem("page"))||1),O=(0,c.Z)(L,2),J=O[0],N=O[1],B=(0,f.useState)(0),P=(0,c.Z)(B,2),Q=P[0],T=P[1],U=C.get("query"),A=(0,d.TH)(),F=(0,f.useRef)(null);(0,f.useEffect)((function(){F.current.scrollIntoView({behavior:"smooth"})}),[J,U]),(0,f.useEffect)((function(){window.localStorage.setItem("page",JSON.stringify(J))}),[J]),(0,f.useEffect)((function(){if(U){var t=function(){var t=(0,o.Z)(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(!0),t.next=4,p.sY(e,n);case 4:0===(r=t.sent).length&&(0,k.Am)("We don't found any films"),a(r.results),T(r.total_pages),r.total_pages<n&&N(1),m(!1),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),w(t.t0.message),m(!1);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}();t(U,J)}}),[U,J]);return(0,b.jsxs)(g.rS,{children:[(0,b.jsx)(y,{onSubmit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t?(I("query=".concat(t,"&page=").concat(e)),a([])):console.log("enter value")}}),Z&&k.Am.error("Something wrong...Try again"),h&&(0,b.jsx)(S.a,{}),(0,b.jsx)(g.im,{ref:F,children:r&&(0,b.jsx)(g.aV,{children:r.map((function(t){var e=t.poster_path,n=t.title,r=t.id;return(0,b.jsx)(g.ck,{children:(0,b.jsxs)(l.OL,{to:"".concat(r),state:{from:A},children:[" ",(0,b.jsx)(g.Ee,{src:e?"https://image.tmdb.org/t/p/w500".concat(e):j,alt:n})," ",(0,b.jsx)("h3",{children:n})]})},r)}))})}),Q>0&&(0,b.jsx)(E,{count:Q,page:J,onChange:function(t,e){return N(e)},navLink:l.OL,query:U})]})}},5872:function(t,e,n){n.d(e,{Bt:function(){return f},Mc:function(){return i},SU:function(){return c},sY:function(){return s},y:function(){return p}});var r=n(5861),a=n(4687),u=n.n(a),o=n(2388);o.Z.defaults.baseURL="https://api.themoviedb.org/3",o.Z.defaults.params={api_key:"7653694c4941db1f3bfb7af19c86b9a8",language:"en-US"};var c=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/trending/movie/week?page=".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)(u().mark((function t(e,n){var r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/search/movie?&query=".concat(e,"&page=").concat(n));case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/movie/".concat(e,"?"));case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/movie/".concat(e,"/credits?"));case 2:return n=t.sent,r=n.data,t.abrupt("return",r.cast);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.get("/movie/".concat(e,"/reviews?"));case 2:return n=t.sent,r=n.data,t.abrupt("return",r.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},5378:function(t,e,n){t.exports=n.p+"static/media/defaultImg.4dbc0e74031fecaf6511.png"}}]);
//# sourceMappingURL=319.b5fc35b0.chunk.js.map