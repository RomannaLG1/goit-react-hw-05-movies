"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{3372:function(n,t,e){e.d(t,{Ee:function(){return f},aV:function(){return s},ck:function(){return p},im:function(){return l}});var r,a,u,o,c=e(168),i=e(7691),s=i.ZP.ul(r||(r=(0,c.Z)(["\n  /* margin-left: auto;\n  margin-right: auto;\n  display: grid;\n  padding: 60px 0;\n    grid-template-columns: repeat(3, 395px);\n    gap: 32px 16px; */\n"]))),p=i.ZP.li(a||(a=(0,c.Z)(["\n  justify-self: center;\n"]))),f=i.ZP.img(u||(u=(0,c.Z)(["\n  width: 395px;\n  height: 574px;\n  object-fit: cover;\n"]))),l=i.ZP.div(o||(o=(0,c.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  display: grid;\n  padding: 60px 0;\n  grid-template-columns: repeat(3, 395px);\n  gap: 32px 16px;\n"])))},319:function(n,t,e){e.r(t),e.d(t,{default:function(){return E}});var r,a,u,o=e(5861),c=e(9439),i=e(4687),s=e.n(i),p=e(5872),f=e(2791),l=e(1087),d=e(7689),g=e(3372),h=e(168),m=e(7691),x=m.ZP.div(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n"]))),v=m.ZP.input(a||(a=(0,h.Z)(["\n  padding: 8px 32px 8px 8px;\n  width: 300px;\n  border-radius: 4px;\n  font: inherit;\n"]))),Z=m.ZP.button(u||(u=(0,h.Z)(["\nwidth: 50px;\npadding: 5px;\nbackground-color: transparent;\nborder: none;\ncursor: pointer;\nposition: absolute;\nright: 1px;\n"]))),b=e(8617),w=e(184),y=function(n){var t=n.onSubmit,e=(0,f.useState)(""),r=(0,c.Z)(e,2),a=r[0],u=r[1];return(0,w.jsx)("form",{onSubmit:function(n){n.preventDefault(),t(a),u("")},children:(0,w.jsxs)(x,{children:[(0,w.jsx)(v,{placeholder:"Enter movie...",type:"text",name:"searchQuery",value:a,onChange:function(n){u(n.currentTarget.value.trim())},required:!0,autoFocus:!0}),(0,w.jsx)(Z,{children:(0,w.jsx)(b.G4C,{size:"25"})})]})})},j=e(9989),k=e(5206),S=e(5378),q=e(1413),_=e(6683),C=e(9610),P=e(2977),L=function(n){var t=n.count,e=n.page,r=n.onChange,a=n.navLink,u=n.query;return(0,w.jsx)(P.Z,{spacing:3,children:(0,w.jsx)(C.Z,{sx:{marginX:"auto"},showFirstButton:!0,showLastButton:!0,count:t,page:e,onChange:r,renderItem:function(n){return(0,w.jsx)(_.Z,(0,q.Z)({component:a,to:"/movies/?query=".concat(u,"&page=").concat(n.page)},n))}})})},E=function(n){var t=(0,f.useState)([]),e=(0,c.Z)(t,2),r=e[0],a=e[1],u=(0,f.useState)(!1),i=(0,c.Z)(u,2),h=i[0],m=i[1],x=(0,f.useState)(null),v=(0,c.Z)(x,2),Z=v[0],b=v[1],q=(0,l.lr)(),_=(0,c.Z)(q,2),C=_[0],P=_[1],E=(0,f.useState)(1),B=(0,c.Z)(E,2),I=B[0],T=B[1],U=(0,f.useState)(0),V=(0,c.Z)(U,2),A=V[0],F=V[1],O=C.get("query"),R=(0,d.TH)(),Y=(0,f.useRef)(null);(0,f.useEffect)((function(){Y.current.scrollIntoView({behavior:"smooth"})}),[I,O]),(0,f.useEffect)((function(){if(O){var n=function(){var n=(0,o.Z)(s().mark((function n(t,e){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),n.next=4,p.sY(t,e);case 4:0===(r=n.sent).length&&(0,k.Am)("We don't found any films"),a(r.results),F(r.total_pages),r.total_pages<e&&T(1),m(!1),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0),b(n.t0.message),m(!1);case 17:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(t,e){return n.apply(this,arguments)}}();n(O,I)}}),[O,I]);return(0,w.jsxs)("main",{children:[(0,w.jsx)(y,{onSubmit:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n?(console.log("query",n),P("query=".concat(n,"&page=").concat(t)),a([])):console.log("enter value")}}),Z&&k.Am.error("Something wrong...Try again"),h&&(0,w.jsx)(j.a,{}),r&&(0,w.jsx)(g.aV,{children:(0,w.jsx)(g.im,{ref:Y,children:r.map((function(n){var t=n.poster_path,e=n.title,r=n.id;return(0,w.jsx)(g.ck,{children:(0,w.jsxs)(l.OL,{to:"".concat(r),state:{from:R},children:[" ",(0,w.jsx)(g.Ee,{src:t?"https://image.tmdb.org/t/p/w500".concat(t):S,alt:e})," ",(0,w.jsx)("h3",{children:e})]})},r)}))})}),A>0&&(0,w.jsx)(L,{count:A,page:I,onChange:function(n,t){return T(t)},navLink:l.OL,query:O})]})}},5872:function(n,t,e){e.d(t,{Bt:function(){return f},Mc:function(){return s},SU:function(){return c},sY:function(){return i},y:function(){return p}});var r=e(5861),a=e(4687),u=e.n(a),o=e(2388);o.Z.defaults.baseURL="https://api.themoviedb.org/3",o.Z.defaults.params={api_key:"7653694c4941db1f3bfb7af19c86b9a8",language:"en-US"};var c=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("/trending/movie/week?page=".concat(t));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),i=function(){var n=(0,r.Z)(u().mark((function n(t,e){var r,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("/search/movie?&query=".concat(t,"&page=").concat(e));case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("/movie/".concat(t,"?"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("/movie/".concat(t,"/credits?"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r.cast);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("/movie/".concat(t,"/reviews?"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r.results);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},5378:function(n,t,e){n.exports=e.p+"static/media/defaultImg.4dbc0e74031fecaf6511.png"}}]);
//# sourceMappingURL=319.c119c34c.chunk.js.map