{"version":3,"file":"static/js/751.f18743f8.chunk.js","mappings":"sVAIaA,EAAkB,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QAIvD,OACE,SAACC,EAAA,EAAD,CAAOC,QAAS,EAAhB,UACE,SAACC,EAAA,EAAD,CACEC,GAAI,CAAEC,QAAS,QACfC,iBAAe,EACfC,gBAAc,EACdV,MAAOA,EACPC,KAAMA,EACNC,SAAUA,EACVS,WAAY,SAAAC,GAAI,OACd,SAACC,EAAA,GAAD,QACEC,UAAWX,EACXY,GAAE,sBAAiBH,EAAKX,OACpBW,GAJQ,KAUvB,EC4DD,EA/Ea,WACX,OAA4BI,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEA,GAAwBN,EAAAA,EAAAA,UACtBO,KAAKC,MAAMC,aAAaC,QAAQ,UAAY,GAD9C,eAAOzB,EAAP,KAAa0B,EAAb,KAGA,GAA8BX,EAAAA,EAAAA,UAAS,GAAvC,eAAOY,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAMC,EAAAA,EAAAA,QAAO,MAkCnB,OAjCAC,EAAAA,EAAAA,YAAU,WACRF,EAAIG,QAAQC,eAAe,CAAEC,SAAU,UACxC,GAAE,CAACvC,KAEJoC,EAAAA,EAAAA,YAAU,WACRI,OAAOhB,aAAaiB,QAAQ,OAAQnB,KAAKoB,UAAU1C,IACnDiC,EAAgB,QAAD,OAASjC,IACxB2C,QAAQC,IAAI,eAAgBZ,EAC7B,GAAE,CAAChC,EAAMgC,EAAcC,KAExBG,EAAAA,EAAAA,YAAU,WACR,IAAMS,EAAW,mCAAG,WAAM7C,GAAN,uFAEhBmB,GAAa,GAFG,SAGK2B,EAAAA,GAAuB9C,GAH5B,OAGVgB,EAHU,OAKhBC,EAAUD,EAAO+B,SACjBnB,EAAWZ,EAAOgC,aACdhC,EAAOgC,YAAchD,GACvB0B,EAAQ,GAGVP,GAAa,GAXG,kDAahBwB,QAAQC,IAAR,MACAvB,EAAS,KAAM4B,SACf9B,GAAa,GAfG,0DAAH,sDAkBjB0B,EAAY7C,EAEb,GAAE,CAACA,EAAM2B,KAGR,UAAC,KAAD,WACGP,GAAS8B,EAAAA,GAAAA,MAAY,+BACrBhC,IAAa,SAACiC,EAAA,EAAD,KACd,SAAC,KAAD,CAASjB,IAAKA,EAAd,SACGlB,IACC,SAAC,KAAD,UACGA,EAAOoC,KAAI,gBAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,GAAvB,OACV,SAAC,KAAD,WACE,UAAC,KAAD,CAASzC,GAAE,kBAAayC,GAAMC,MAAO,CAAEC,KAAM5B,GAA7C,UACG,KACD,SAAC,KAAD,CACE6B,IAAG,0CAAqCL,GACxCM,IAAKL,IACJ,KACH,wBAAKA,QAPEC,EADD,QAejB5B,EAAU,IACT,SAAC7B,EAAD,CACEC,MAAO4B,EACP3B,KAAMA,EACNC,SAAU,SAAC2D,EAAGC,GAAJ,OAAYnC,EAAQmC,EAApB,EACV3D,QAAS4D,EAAAA,OAKlB,C,kMC1EDC,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAJc,mCAKdC,SAAU,SAeL,IAAMC,EAAkB,mCAAG,WAAOlE,GAAP,yFACX+D,EAAAA,EAAAA,IAAA,oCAAuC/D,IAD5B,uBACzBmE,EADyB,EACzBA,KADyB,kBAEzBA,GAFyB,2CAAH,sDAIlBC,EAAkB,mCAAG,WAAOC,EAAarE,GAApB,yFACT+D,EAAAA,EAAAA,IAAA,+BACGM,EADH,iBACuBrE,IAFd,uBACxBmE,EADwB,EACxBA,KADwB,kBAIzBA,GAJyB,2CAAH,wDAOlBG,EAAc,mCAAG,WAAMf,GAAN,yFACLQ,EAAAA,EAAAA,IAAA,iBAAoBR,EAApB,MADK,uBACpBY,EADoB,EACpBA,KADoB,kBAGrBA,GAHqB,2CAAH,sDAMdI,EAAS,mCAAG,WAAMhB,GAAN,yFACAQ,EAAAA,EAAAA,IAAA,iBAAoBR,EAApB,cADA,uBACfY,EADe,EACfA,KADe,kBAGhBA,EAAKK,MAHW,2CAAH,sDAOTC,EAAY,mCAAG,WAAMlB,GAAN,yFACHQ,EAAAA,EAAAA,IAAA,iBAAoBR,EAApB,cADG,uBAClBY,EADkB,EAClBA,KADkB,kBAGnBA,EAAKpB,SAHc,2CAAH,qD","sources":["components/Pagination/Pagination.jsx","Pages/Home.js","api-service.js"],"sourcesContent":["import { PaginationItem } from '@mui/material';\nimport Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\n\nexport const BasicPagination = ({ count, page, onChange, navLink }) => {\n  // useEffect (() => {\n  //   localStorage.setItem('page', page);\n  // }, [page]);\n  return (\n    <Stack spacing={3}>\n      <Pagination\n        sx={{ marginX: 'auto' }}\n        showFirstButton\n        showLastButton\n        count={count}\n        page={page}\n        onChange={onChange}\n        renderItem={item => (\n          <PaginationItem\n            component={navLink}\n            to={`/home/?page=${item.page}`}\n            {...item}\n          />\n        )}\n      />\n    </Stack>\n  );\n};\n","import { NavLink, useLocation, useSearchParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport * as API from '../api-service';\nimport { Item, List, Image, Wrapper, MainWrapper } from './Home.styled';\nimport { Loader } from '../components/Loader/Loader';\nimport { toast } from 'react-toastify';\nimport { BasicPagination } from 'components/Pagination/Pagination';\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  // const [page, setPage] = useState(parseInt(props.location.search?.split('=')[1] || 1));\n  const [page, setPage] = useState(\n    JSON.parse(localStorage.getItem('page')) || 1\n  );\n  const [pageQty, setPageQty] = useState(0);\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const ref = useRef(null);\n  useEffect(() => {\n    ref.current.scrollIntoView({ behavior: 'smooth' });\n  }, [page]);\n\n  useEffect(() => {\n    window.localStorage.setItem('page', JSON.stringify(page));\n    setSearchParams(`page=${page}`);\n    console.log('searchParams', searchParams);\n  }, [page, searchParams, setSearchParams]);\n\n  useEffect(() => {\n    const fetchMovies = async page => {\n      try {\n        setIsLoading(true);\n        const movies = await API.fetchPopularMovies(page);\n\n        setMovies(movies.results);\n        setPageQty(movies.total_pages);\n        if (movies.total_pages < page) {\n          setPage(1);\n        }\n\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n        setError(error.message);\n        setIsLoading(false);\n      }\n    };\n    fetchMovies(page);\n    // console.log(pageQty);\n  }, [page, pageQty]);\n\n  return (\n    <MainWrapper>\n      {error && toast.error('Something wrong...Try again')}\n      {isLoading && <Loader />}\n      <Wrapper ref={ref}>\n        {movies && (\n          <List>\n            {movies.map(({ poster_path, title, id }) => (\n              <Item key={id}>\n                <NavLink to={`/movies/${id}`} state={{ from: location }}>\n                  {' '}\n                  <Image\n                    src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n                    alt={title}\n                  />{' '}\n                  <h3>{title}</h3>\n                </NavLink>\n              </Item>\n            ))}\n          </List>\n        )}\n      </Wrapper>\n      {pageQty > 0 && (\n        <BasicPagination\n          count={pageQty}\n          page={page}\n          onChange={(_, num) => setPage(num)}\n          navLink={NavLink}\n        />\n      )}\n    </MainWrapper>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n// const API_KEY = '7653694c4941db1f3bfb7af19c86b9a8';\n// const BASE_URL = 'https://api.themoviedb.org/3';\n\n// export async function fetchPopularMovies(page) {\n//   const url = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&language=en-US&page=${page}`;\n//   const response = await axios(url);\n//   return response.data.results;\n// }\n\nconst API_KEY = '7653694c4941db1f3bfb7af19c86b9a8';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n  // page: 1,\n  \n};\n\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n\n// export const fetchPopularMovies = async (page) => {\n//   const { data } = await axios.get(`/trending/movie/week?page=${page}`);\n//   return data.results;\n// };\n\n\nexport const fetchPopularMovies = async (page) => {\n  const {data} = await axios.get(`/trending/movie/week?page=${page}`);\n  return data;\n};\nexport const fetchMovieToSearch = async (searchQuery, page) => {\n  const { data } = await axios.get(\n    `/search/movie?&query=${searchQuery}&page=${page}`\n  );\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`/movie/${id}?`);\n  // console.log(data);\n  return data;\n};\n\nexport const fetchCast = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits?`);\n  // console.log(data.cast);\n  return data.cast;\n};\n\n// fetchCast(76600);\nexport const fetchReviews = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews?`);\n  // console.log(data.results);\n  return data.results;\n};\n\n// fetchReviews(76600);"],"names":["BasicPagination","count","page","onChange","navLink","Stack","spacing","Pagination","sx","marginX","showFirstButton","showLastButton","renderItem","item","PaginationItem","component","to","useState","movies","setMovies","isLoading","setIsLoading","error","setError","JSON","parse","localStorage","getItem","setPage","pageQty","setPageQty","location","useLocation","useSearchParams","searchParams","setSearchParams","ref","useRef","useEffect","current","scrollIntoView","behavior","window","setItem","stringify","console","log","fetchMovies","API","results","total_pages","message","toast","Loader","map","poster_path","title","id","state","from","src","alt","_","num","NavLink","axios","api_key","language","fetchPopularMovies","data","fetchMovieToSearch","searchQuery","fetchMovieById","fetchCast","cast","fetchReviews"],"sourceRoot":""}